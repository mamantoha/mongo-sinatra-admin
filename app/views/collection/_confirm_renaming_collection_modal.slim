javascript:
  document.addEventListener('DOMContentLoaded', function() {

    var renameButtons = document.querySelectorAll('.renameCollectionButton');
    renameButtons.forEach(function(btn) {
      btn.addEventListener('click', function(event) {
        event.preventDefault();

        // Store the form reference
        var parentForm = btn.closest('form'); // Finds the closest parent form element

        var collectionName = btn.getAttribute('collection-name');
        var modalElement = document.getElementById('confirmCollectionRenaming');
        var modal = new bootstrap.Modal(modalElement, {
          backdrop: 'static',
          keyboard: true
        });

        document.getElementById('renaming-collection-name').textContent = collectionName;

        // Reset any previous click listeners to avoid multiple submissions
        var confirmButton = modalElement.querySelector('#renameCollection');
        var newConfirmButton = confirmButton.cloneNode(true);
        confirmButton.parentNode.replaceChild(newConfirmButton, confirmButton);

        // Add click event listener to the new confirmation button
        newConfirmButton.addEventListener('click', function() {
          if (parentForm) {
            parentForm.submit(); // Submit the form
          } else {
            // Optionally handle the case where the form is not found
            console.error('Form not found!');
          }
        });

        modal.show();
      });
    });

  });

div#confirmCollectionRenaming.modal.fade[tabindex="-1" role="dialog" aria-labelledby="renameCollectionModalLabel" aria-hidden="true"]
  div.modal-dialog[role="document"]
    div.modal-content
      div.modal-header
        button.close[type="button" data-bs-dismiss="modal" aria-label="Close"]
          span[aria-hidden="true"] &times;
        h4#renameCollectionModalLabel.modal-title = I18n.t('rename_collection')
      div.modal-body
        p.text-danger
          ' Be careful! You are about to rename collection
          strong
            span#renaming-collection-name
        p
          | Rename Collection is not compatible with sharded collections.
      div.modal-footer
        button.btn.btn-secondary[type="button" data-bs-dismiss="modal"]
          i.bi.bi-x
          = I18n.t('close')
        button#renameCollection.btn.btn-primary[type="button"]
          i.bi.bi-pen
          = I18n.t('rename')
